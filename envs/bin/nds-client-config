#! /bin/sh
prefix=
exec_prefix=

process_options()
{
    while read line
    do
	field1=`echo $line | cut -d: -f1`
	field2=`echo $line | cut -d: -f2`
	printf '  --%-20.20s %s\n' "${field1}" "${field2}"
    done
}

process_option_value()
{
    while read line
    do
	field1=`echo $line | cut -d: -f1`
	field3=`echo $line | cut -d: -f3`
	echo ${field1} ${field3}
    done
}

while [ $# -gt 0 ]
do
    case $1 in
	--help)
	    echo "nds-client-config accepts the following arguments: "
	    process_options <<EOF
help:This printout:
EOF
	    for file in /scratch/nj2nu/non_GR/BBH_dataset/gw150914_xas/github_repo/bilby_pipe_edgb/envs/etc/nds2-client/*
	    do
		cat ${file}
	    done | process_options | sort
	    ;;
	*)
	    out=`for file in /scratch/nj2nu/non_GR/BBH_dataset/gw150914_xas/github_repo/bilby_pipe_edgb/envs/etc/nds2-client/*
            do
	    cat ${file}
	    done | process_option_value | while read opt val
	    do
		if test "--${opt}" = "$1"
		then
		    echo ${val}
		    x=0
		fi
	    done`
	    if test -z "$out"
	    then
		echo "unrecognized argument $1 - use --help for help." >&2
	    else
		echo "$out"
	    fi
    esac
    shift
done
